<!-- =====================================================
     PANEL COMPONENT - RESPONSIVE DUAL TEMPLATE
     
     Desktop: Color-Admin panel con botones de control
     Mobile: Ionic Card con botones en header
     ===================================================== -->

@if (!this.remove) {
  
  <!-- ========== VERSIÓN MÓVIL (IONIC) ========== -->
  @if (isMobile()) {
    <ion-card [class]="panelClass">
      <!-- Card Header -->
      @if (title || !noButton) {
        <ion-card-header>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            @if (title) {
              <ion-card-title>{{ title }}</ion-card-title>
            }
            <ng-content select="[header]"></ng-content>
            
            @if (!noButton) {
              <div style="display: flex; gap: 4px;">
                @if (showReloadButton) {
                <ion-button fill="clear" size="small" (click)="panelReload()">
                  <ion-icon slot="icon-only" name="refresh-outline"></ion-icon>
                </ion-button>
                }
                <ion-button fill="clear" size="small" (click)="panelCollapse()">
                  <ion-icon slot="icon-only" [name]="collapse ? 'chevron-down-outline' : 'chevron-up-outline'"></ion-icon>
                </ion-button>
                <ion-button fill="clear" size="small" color="danger" (click)="panelRemove()">
                  <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                </ion-button>
              </div>
            }
          </div>
        </ion-card-header>
      }
      
      <!-- Before Body -->
      <ng-content select="[beforeBody]"></ng-content>
      
      <!-- Card Content -->
      @if (!noBody && !collapse) {
        <ion-card-content [class]="bodyClass">
          <ng-content></ng-content>
          @if (reload) {
            <div style="display: flex; justify-content: center; padding: 20px;">
              <ion-spinner></ion-spinner>
            </div>
          }
        </ion-card-content>
      }
      
      <!-- No Body -->
      <ng-content select="[noBody]"></ng-content>
      
      <!-- Outside Body -->
      <ng-content select="[outsideBody]"></ng-content>
      
      <!-- Footer -->
      @if (showFooter) {
        <div class="ion-padding" #panelFooter [class]="footerClass">
          <ng-content select="[footer]"></ng-content>
        </div>
      }
      
      <!-- After Footer -->
      <ng-content select="[afterFooter]"></ng-content>
    </ion-card>
  }
  
  <!-- ========== VERSIÓN DESKTOP (COLOR-ADMIN) ========== -->
  @if (isDesktop()) {
    <div class="panel"
      [ngClass]="[ (this.expand) ? 'panel-expand': '', (this.reload) ? 'panel-loading': '', (this.panelClass) ? this.panelClass : '', (this.variant) ? 'panel-' + this.variant : 'panel-inverse' ]">
      <!-- BEGIN panel-heading -->
      <div class="panel-heading" [ngClass]="[ (this.headerClass) ? this.headerClass : '' ]">
        @if (this.title) {
        <h4 class="panel-title">{{ title }}</h4>
        }
        <ng-content select="[header]"></ng-content>
        @if (!this.noButton) {
        <div class="panel-heading-btn">
          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" (click)="panelExpand()"><i
              class="fa fa-expand"></i></a>
          @if (showReloadButton) {
          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" (click)="panelReload()"><i
              class="fa fa-redo"></i></a>
          }
          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" (click)="panelCollapse()"><i
              class="fa fa-minus"></i></a>
          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" (click)="panelRemove()"><i
              class="fa fa-times"></i></a>
        </div>
        }
      </div>
      <!-- END panel-heading -->

      <!-- BEGIN before-body -->
      <ng-content select="[beforeBody]"></ng-content>
      <!-- END before-body -->

      <!-- BEGIN panel-body -->
      @if (!this.noBody) {
      <div class="panel-body" [ngClass]="[ (this.collapse) ? 'd-none': '', (this.bodyClass) ? this.bodyClass : '' ]">
        <ng-content></ng-content>
        @if (this.reload) {
        <div class="panel-loader"><span class="spinner spinner-sm"></span></div>
        }
      </div>
      }
      <!-- END panel-body -->

      <!-- BEGIN no-body -->
      <ng-content select="[noBody]"></ng-content>
      <!-- END no-body -->

      <!-- BEGIN outside-body -->
      <ng-content select="[outsideBody]"></ng-content>
      <!-- END outside-body -->

      <!-- BEGIN panel-footer -->
      <div class="panel-footer" #panelFooter [hidden]="!showFooter"
        [ngClass]="[ (this.footerClass) ? this.footerClass : '' ]">
        <ng-content select="[footer]"></ng-content>
      </div>
      <!-- END panel-footer -->

      <!-- BEGIN after-footer -->
      <ng-content select="[afterFooter]"></ng-content>
      <!-- END after-footer -->
    </div>
  }
}
<!-- END panel -->