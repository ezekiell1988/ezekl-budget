<ion-header [translucent]="true">
  <!-- Toolbar principal -->
  @if (!isSearchActive) {
  <ion-toolbar [color]="color">
    <!-- Botón de menú o navegación -->
    @if (showMenu) {
    <ion-menu-button slot="start" color="light" auto-hide="false"></ion-menu-button>
    }

    <!-- Título centrado -->
    <ion-title class="ion-text-center">
      {{ title }}
    </ion-title>

    <!-- Botones de acción opcionales -->
    @if (showActions) {
    <ion-buttons slot="end">
      @if (showSearch) {
      <ion-button fill="clear" (click)="onSearchClick()">
        <ion-icon name="search" slot="icon-only" color="light"></ion-icon>
      </ion-button>
      }
      <ion-button fill="clear" (click)="onNotificationsClick()">
        <ion-icon name="notifications" slot="icon-only" color="light"></ion-icon>
      </ion-button>
      <ion-button fill="clear" (click)="onMoreClick()">
        <ion-icon name="ellipsis-vertical" slot="icon-only" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>
    }
  </ion-toolbar>
  }

  <!-- Toolbar de búsqueda expandido -->
  @if (isSearchActive) {
  <ion-toolbar [color]="color">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="onSearchClick()">
        <ion-icon name="close-outline" slot="icon-only" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-searchbar
      [(ngModel)]="searchText"
      (ionInput)="onSearchInput($event)"
      (ionClear)="onSearchClear()"
      [placeholder]="searchPlaceholder"
      [debounce]="300"
      show-clear-button="focus"
      animated="true">
    </ion-searchbar>
  </ion-toolbar>
  }
</ion-header>
